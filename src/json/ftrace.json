{
    "ftrace": {
        "build": "make",
        "tests": [
            {
                "Error-Handling": [
                    {
                        "name": "Bad argument",
                        "command": "./ftrace not_working",
                        "output": "*",
                        "return": 84
                    },
                    {
                        "name": "Correct argument",
                        "command": "./ftrace test",
                        "output": "*",
                        "return": 0
                    },
                    {
                        "name": "Not enough arguments",
                        "command": "./ftrace",
                        "output": "*",
                        "return": 84
                    }
                ],
                "Syscall": [
                    {
                        "name": "Basic Syscall",
                        "command": "./ftrace $BINARY/write",
                        "std": "stderr",
                        "grep": "Syscall write(0x1",
                        "return": 0
                    },
                    {
                        "name": "Basic Syscall, looking for return value",
                        "command": "./ftrace $BINARY/write",
                        "std": "stderr",
                        "grep": " = 0xd",
                        "return": 0
                    },
                    {
                        "name": "Basic Syscall, in functions",
                        "command": "./ftrace $binary/putstr_main",
                        "std": "stderr",
                        "grep": "syscall write(0x1",
                        "return": 0
                    },
                    {
                        "name": "Basic Syscall, in functions, looking for return value",
                        "command": "./ftrace $binary/putstr_main",
                        "std": "stderr",
                        "grep": " = 0xc",
                        "return": 0
                    }
                ],
                "Functions-Basics": [
                    {
                        "name": "Entering Function",
                        "command": "./ftrace $BINARY/putstr_main",
                        "std": "stderr",
                        "grep": "Entering function my_putstr",
                        "return": 0
                    },
                    {
                        "name": "Leaving Function",
                        "command": "./ftrace $BINARY/putstr_main",
                        "std": "stderr",
                        "grep": "Leaving function my_putstr",
                        "return": 0
                    },
                    {
                        "name": "Main Function Entering",
                        "command": "./ftrace $BINARY/write",
                        "std": "stderr",
                        "grep": "Entering function main",
                        "return": 0
                    },
                    {
                        "name": "Main Function Leaving",
                        "command": "./ftrace $BINARY/write",
                        "std": "stderr",
                        "grep": "Leaving function main",
                        "return": 0
                    }
                ]
            }
        ]
    }
}
